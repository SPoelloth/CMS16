<!DOCTYPE html>
<html lang="en">

	<!--MAIN CONTENT-->
	<div id="new_template_id" style="display: none;"></div>
	<div class="row">
		<div class="col-md-12 new-template-row">
			<div class="btn-toolbar" role="toolbar">
				<div class="btn-group" role="group">
					<button class="btn btn-primary" id="new_template_add_module" role="button">
						<span class='glyphicon glyphicon-plus'></span>
						Add a Module
					</button>
				</div>
				<div class="btn-group" role="group">
					<button class="btn btn-primary" id="new_template_save" role="button">
						<span class='glyphicon glyphicon-floppy-save'></span>
						Save Template
					</button>
				</div>
			</div>
		</div>
		<div class="col-md-12 new-template-row">
			<div id='new_template_header'>
				<input id="new_template_header_name_input" type="text" class="form-control" placeholder="Enter Template-Name">
			</div>
		</div>
		<div class="col-md-12 new-template-row">
			<ul id="new_template_module_list">

			</ul>
		</div>
	</div>

	<div>
		<p>Author: <span id='new_template_creator_name'></span>, <span id='new_template_current_date'></span></p>
	</div>

	<!-- PICTURE MODAL -->
	<div class="modal fade" id="new_template_picture_dialog" tabindex="-1" role="dialog" aria-labelledby="showTemplatePictureModalLabel">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content">
				<div class="modal-header modal-header-success">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					<h4 class="modal-title">Picture management</h4>
				</div>
				<div class="modal-body">
					<form action="db/db_uploadPicture.php" class="dropzone" id="new_template_picture_dialog_dropzone"></form>
					<div id="hidden_module_col_id" style="display: none;"></div>
					<div id="hidden_row_count" style="display: none;"></div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					<button type="button" class="btn btn-primary">Save changes</button>
				</div>
			</div>
		</div>
	</div>

	<!-- MODULE MODAL -->
	<div class="modal fade" id="new_template_module_dialog" tabindex="-1" role="dialog" aria-labelledby="showTemplateModuleModalLabel">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content">
				<div class="modal-header modal-header-success">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					<h4 class="modal-title">Module selection</h4>
				</div>
				<div class="modal-body">
					<ul class="disabled" id="new_template_module_dialog_module_list">
					</ul>
				</div>
			</div>
		</div>
	</div>

	<script type="text/html" id="new_template_module">
		<li class='ui-sortable-handle module' template-row-id="<%= template_row_id %>" module-id='<%= module_id %>' style="background-color: <%= color_code %> ;" color-id="<%= color_code %>">
			<form>
				<table>
					<tbody>
						<tr>
							<td>
								<span class="badge template-module-row-count"><%= module_count %></span>
							</td>
							<%= module_elements_html %>
							<td>
								<div class='template-module-button'>
									<button type='button' class='btn template-module-delete-saved'>
										<span class='glyphicon glyphicon-trash' aria-hidden='true'></span>
									</button>
								</div>
							</td>
							<td>
								<input class="template-module-colorpicker" type='text' style='display: none;'/>
								<div></div>
							</td>
						</tr>
					</tbody>
				</table>
			</form>
		</li>
	</script>

	<script type="text/html" id="new_template_module_element">
		<td class='module-cell' style='width: <%= element_size %>%'>
			<div class='template-module-element' module-column-id='<%= module_column_id %>' element-id='<%= element_id %>'>
				<%= element_html %>
			</div>
		</td>";
	</script>

	<script type="text/html" id="new_template_module_dialog_module">
		<li class='ui-sortable-handle module'>
			<form>
				<table>
					<tbody>
						<tr>
						</tr>
					</tbody>
				</table>
			</form>
		</li>
	</script>


	<script type="text/html" id="new_template_module_dialog_module_cell">
		<td class="module-cell" style='width:<%= element_size %>%'>
			<div mcId='<%= element_id %>' module-id='<%= module_id %>'>
				<%= element_html %>
			</div>
		</td>
	</script>

	<script type="text/html" id="new_template_module_dialog_module_add">
		<td>
			<button type='button' module-id='<%= last_module_id %>' class='btn btn-success module-add'>
				<span class='glyphicon glyphicon-plus' aria-hidden='true'></span>
			</button>
		</td>
	</script>

	<!-- DROPZONE -->
	<link  href="libs/dropzone/dropzone.css" type="text/css" rel="stylesheet" />
	<script src="libs/dropzone/dropzone.js"></script>
	<script src="js/pictureDialogDropzone.js"></script>

	<!-- COLOR PICKER -->
	<script src='libs/spectrum/spectrum.js'></script>
	<link rel='stylesheet' href='libs/spectrum/spectrum.css' />

	<!-- TEMPLATE -->
	<script type="text/javascript" src="js/showTemplateFunctions.js"></script>

</html>
